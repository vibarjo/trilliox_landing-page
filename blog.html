
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Genesis Ledger</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" type="image/x-icon" href="logo_dark_small.png">
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <a href="index.html" class="logo-link"><img src="logo_dark_small.png" alt="Genesis Ledger Logo"></a>
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="services.html">Services</a>
            <a href="partners.html">Partners</a>
            <a href="blog.html">Blog</a>
            <a href="team.html">Our Team</a>
            <div class="header-icons">
                <a href="https://x.com/GenesisLedgerHQ?t=H-Vcf3Ae-UM57mHLLf65-w&s=09"><i class="fa fa-twitter"></i></a>
                <a href="https://www.linkedin.com/in/genesis-ledger-defi-8502b7381"><i class="fa fa-linkedin"></i></a>
                <a href="https://www.instagram.com/genesis_ledger?igsh=Mjh0bjAyNjAxc3Nh"><i class="fa fa-instagram"></i></a>
            </div>
        </nav>
    </header>

    <main class="container">
        <h1>Genesis Ledger Blog</h1>
        <p>Stay up to date with the latest insights and developments in the world of decentralized finance.</p>

        <section class="blog-posts">
            <h2>Latest Posts</h2>
            <div id="blog-posts-container"></div>
        </section>
    </main>
    <script>
        async function fetchPosts() {
            const container = document.getElementById('blog-posts-container');
            container.innerHTML = 'Loading posts...';
            try {
                const response = {await fetch('https://api.github.com/repos/vibarjo/trilliox_landing-page/contents/blog-posts', { ... });
                    headers: {
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                if (!response.ok) {
                    throw new Error(`GitHub API error: ${response.statusText}`);
                }
                const files = await response.json();
                const blogPosts = files.filter(file => file.name.endsWith('.md')).reverse();

                if (blogPosts.length === 0) {
                    container.innerHTML = '<p>No blog posts published yet.</p>';
                    return;
                }

                container.innerHTML = '';
                for (const post of blogPosts) {
                    const postContentResponse = await fetch(post.download_url);
                    const markdown = await postContentResponse.text();

                    const html = `<div class="blog-post-summary"><h3><a href="blog-posts/${post.name.replace('.md', '.html')}">${post.name.replace('.md', '').replace(/-/g, ' ').replace(/\b\w/g, c => c.toUpperCase())}</a></h3><p>${markdown.substring(0, 150)}...</p><a href="blog-posts/${post.name.replace('.md', '.html')}">Read More</a></div>`;
                    container.innerHTML += html;
                }
            } catch (error) {
                console.error("Error fetching blog posts:", error);
                container.innerHTML = `<p>Error loading posts: ${error.message}</p>`;
            }
        }
        fetchPosts();
    </script>
</body>
                                                       </html>

<script>
    async function fetchPosts() {
        const container = document.getElementById('blog-posts-container');
        container.innerHTML = 'Loading posts...';
        try {
            // This is the corrected URL with the right username and repository name
            const response = await fetch('https://api.github.com/repos/vibarjo/trilliox_landing-page/contents/blog-posts', {
                headers: {
                    'Accept': 'application/vnd.github.v3+json'
                }
            });
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(`GitHub API error: ${response.status} - ${errorData.message}`);
            }
            const files = await response.json();
            const blogPosts = files.filter(file => file.name.endsWith('.md')).reverse();
            if (blogPosts.length === 0) {
                container.innerHTML = '<p>No blog posts published yet.</p>';
                return;
            }
            container.innerHTML = '';
            for (const post of blogPosts) {
                const postContentResponse = await fetch(post.download_url);
                const markdown = await postContentResponse.text();
                const lines = markdown.split('\n');
                const title = lines[0].startsWith('#') ? lines[0].substring(1).trim() : 'Untitled Post';
                const firstParagraph = lines.slice(1).filter(line => line.trim().length > 0)[0] || '';
                const html = `<div class="blog-post-summary"><h3><a href="blog-posts/${post.name.replace('.md', '.html')}">${title}</a></h3><p>${firstParagraph.substring(0, 150)}...</p><a href="blog-posts/${post.name.replace('.md', '.html')}">Read More</a></div>`;
                container.innerHTML += html;
            }
        } catch (error) {
            console.error("Error fetching blog posts:", error);
            container.innerHTML = `<p>Error loading posts: ${error.message}</p>`;
        }
    }
    fetchPosts();
</script>


